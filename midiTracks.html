<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Feb 8, 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140208" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Rockhopper Music - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2282147-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/genedelisa/rockymusic">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.rockhoppertech.com/blog/" id="bannerLeft">
                                                                                                <img src="images/rocky-scream-25.jpg"  alt="Rockhopper"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                        <img src="http://maven.apache.org/images/maven-small.gif" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2014-02-08
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.0.1-SNAPSHOT
                      </li>
                      
                
            
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://rockhoppertech.com/blog" class="externalLink" title="Rockhopper blog">
        Rockhopper blog</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://rockhoppertech.com/" class="externalLink" title="Rockhopper Technologies">
        Rockhopper Technologies</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Project dox</li>
                              
      <li>
  
                          <a href="overview.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="quickstart.html" title="Quick Start">
          <i class="none"></i>
        Quick Start</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>MIDI Tracks</a>
          </li>
                
      <li>
  
                          <a href="chords.html" title="Chords">
          <i class="none"></i>
        Chords</a>
            </li>
                
      <li>
  
                          <a href="scales.html" title="Scales">
          <i class="none"></i>
        Scales</a>
            </li>
                
      <li>
  
                          <a href="functional.html" title="Functional">
          <i class="none"></i>
        Functional</a>
            </li>
                
      <li>
  
                          <a href="timeseries.html" title="Time Series">
          <i class="none"></i>
        Time Series</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                            
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="file:///Users/gene/sitedocs/rockymusic" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=file:///Users/gene/sitedocs/rockymusic&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/genedelisa" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow genedelisa</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Rockhopper Music Tracks</h1><p>MIDITracks contain MIDINotes and MIDIEvents. You can create a MIDITrack using its constructors, the MIDITrackFactory (or other factories such as the ScaleFactory), or the MIDITrackBuilder.</p><p>In this chapter, I will start with the low level way to create tracks and notes. As we go along you will see easier ways to accomplish the same thing.</p><div class="section"><h2>Low level creation<a name="Low_level_creation"></a></h2><p>Here is the long way to do it. Create a track and a note. The MIDINote constructor is overloaded for most MIDI parameters. Here Im just setting the pitch using a constant for middle C from the Pitch class. There is a constructor to set the start and duration along with the pitch.</p><p>After the track has a note, we can hear it by having a MIDIPerformer play it.</p><div class="section"><h3>Create a MIDITrack with a MIDINote<a name="Create_a_MIDITrack_with_a_MIDINote"></a></h3>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack();
MIDINote note = new MIDINote(Pitch.C5);
note.setStartBeat(1d);
note.setDuration(1d);
track.add(note);
MIDIPerformer perf = new MIDIPerformer();
perf.play(track);
</pre></div><p>If you print the track to stdout or a logger, you will see this:</p>
<div class="source"><pre class="prettyprint linenums">Track Name:null
Instrument:Instrument [patch=PIANO, name=Piano, minPitch=21, maxPitch=96]
MIDINote[startBeat: 001.00 pitch: C5  dur: 001.00 : q endBeat: 002.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 pan: 64 MIDITrack: unnamed track ]
no events
</pre></div><p>The default instrument is the General MIDI Piano patch. The MIDITrack class has a setter to use a different patch via the Instrument class.</p></div><div class="section"><h3>The add method creating a MIDINote<a name="The_add_method_creating_a_MIDINote"></a></h3><p>You can have the track instantiate the MIDINote by passing a pitch number into the tracks add method. The track uses its own MIDIPerformer to play the tracks contents. If you want to set various playback parameters such as tempo, create a performer instance and use that to play the track.</p></div><div class="section"><h3>Create a MIDITrack with a note via the add method<a name="Create_a_MIDITrack_with_a_note_via_the_add_method"></a></h3>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack();
track.add(Pitch.C5);
track.play();
</pre></div><p>The add method is part of the tracks minimal fluent interface. Ask the Google about that. You can cascade calls to add. The start beats are all the same, so this creates a chord.</p></div><div class="section"><h3>Create a chord<a name="Create_a_chord"></a></h3>
<div class="source"><pre class="prettyprint linenums">import static com.rockhoppertech.music.Pitch.*;
...
MIDITrack track = new MIDITrack();
track.add(Pitch.C5).add(E5).add(G5); // 1
track.play();
</pre></div><p>1 The static import allow you to specify simply E5, G5.</p><p>If you want the notes to be sequential, i.e. their start beats are after the previous notes start + duration, call the sequential method.</p></div><div class="section"><h3>Create a sequence of notes<a name="Create_a_sequence_of_notes"></a></h3>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack();
track.add(Pitch.C5).add(D5).add(E5).add(F5).add(G5); // 1
track.sequential(); // 2
track.play();
</pre></div><p>1 the tracks add method allows as many calls as you like. 2 make the start beats sequential.</p></div></div><div class="section"><h2>Builder<a name="Builder"></a></h2><p>I find it easier to create MIDITracks using a Builder that uses a fluent interface. Here is an empty MIDITrack created via a builder.</p><div class="section"><h3>Builder<a name="Builder"></a></h3><p>I use a modifed Builder pattern tht Josh Bloch described. JavaFX 2 used this style of builder too.</p>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = MIDITrackBuilder.create()
      .build();
</pre></div><p>Ok, not especially useful. How about some notes as a sequence?</p></div><div class="section"><h3>Builder with Note string<a name="Builder_with_Note_string"></a></h3>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = MIDITrackBuilder.create()
      .noteString(&quot;C5 D E F G&quot;)
      .sequential()
      .build();
track.play();
</pre></div><p>There are methods to set many track attributes. Here we set the duration of each note to 4 and the instrument used when the track is played to the GM Violin patch.</p>
<div class="source"><pre class="prettyprint linenums"> MIDITrack track = MIDITrackBuilder.create()
            .noteString(&quot;C E G&quot;)
            .durations(4d)
            .sequential()
            .instrument(Instrument.VIOLIN)
            .build();
</pre></div></div><div class="section"><h3>Circular collections<a name="Circular_collections"></a></h3><p>The builder uses a CircularList for several track attributes: start beat, duration, and velocity. Here is an example for duration. Notice that there are fewer durations than pitches. The CircularList will wrap.</p>
<div class="source"><pre class="prettyprint linenums">  MIDITrack track = MIDITrackBuilder.create()
     .noteString(&quot;C E G&quot;)
     .durations(Duration.E, Duration.Q)
     .sequential()
     .instrument(Instrument.VIOLIN)
     .build();
</pre></div></div></div><div class="section"><h2>Track operations<a name="Track_operations"></a></h2><div class="section"><h3>Append<a name="Append"></a></h3><p>You can build longer tracks by appending one to another. The append method makes a deep copy of the MIDINotes and MIDIEvents.</p><div class="section"><h4>Appending one track to another<a name="Appending_one_track_to_another"></a></h4>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = MIDITrackBuilder.create()
            .noteString(&quot;C5 D E F G&quot;)
            .sequential()
            .build();
MIDITrack track2 = MIDITrackBuilder.create()
            .noteString(&quot;F5 e d c&quot;) // 1
            .sequential()
            .build();

logger.debug(&quot;here is the track\n{}&quot;, track);
track.append(track2); // &lt;2&gt;
logger.debug(&quot;here is the second track\n{}&quot;, track2);
logger.debug(&quot;here is the track after the append\n{}&quot;, track);
</pre></div><p>1 Case does not matter. 2 Here is where the aciton is going down.</p><p>Results of an append</p>
<div class="source"><pre class="prettyprint linenums">here is the track
Track Name:null
Instrument:Instrument [patch=PIANO, name=Piano, minPitch=21, maxPitch=96]
MIDINote[startBeat: 001.00 pitch: c5  dur: 001.00 : q endBeat: 002.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 002.00 pitch: d5  dur: 001.00 : q endBeat: 003.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 003.00 pitch: e5  dur: 001.00 : q endBeat: 004.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 004.00 pitch: F5  dur: 001.00 : q endBeat: 005.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 005.00 pitch: G5  dur: 001.00 : q endBeat: 006.00 midinum: 67 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
events

here is the second track
Track Name:null
Instrument:Instrument [patch=PIANO, name=Piano, minPitch=21, maxPitch=96]
MIDINote[startBeat: 001.00 pitch: F5  dur: 001.00 : q endBeat: 002.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 002.00 pitch: e5  dur: 001.00 : q endBeat: 003.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 003.00 pitch: d5  dur: 001.00 : q endBeat: 004.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 004.00 pitch: c5  dur: 001.00 : q endBeat: 005.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
events

here is the track after the append
Track Name:null
Instrument:Instrument [patch=PIANO, name=Piano, minPitch=21, maxPitch=96]
MIDINote[startBeat: 001.00 pitch: c5  dur: 001.00 : q endBeat: 002.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 002.00 pitch: d5  dur: 001.00 : q endBeat: 003.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 003.00 pitch: e5  dur: 001.00 : q endBeat: 004.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 004.00 pitch: F5  dur: 001.00 : q endBeat: 005.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 005.00 pitch: G5  dur: 001.00 : q endBeat: 006.00 midinum: 67 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 006.00 pitch: F5  dur: 001.00 : q endBeat: 007.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 007.00 pitch: e5  dur: 001.00 : q endBeat: 008.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 008.00 pitch: d5  dur: 001.00 : q endBeat: 009.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 009.00 pitch: c5  dur: 001.00 : q endBeat: 010.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
events
</pre></div><p>Its a bit clunky, but you can build a chord progression by using append. BTW., there is an actual ChordProgression class in the chord pacakge.</p></div><div class="section"><h4>Chord progression<a name="Chord_progression"></a></h4>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack();
MIDITrack c = MIDITrackBuilder.create()
            .noteString(&quot;C4 C5 E G&quot;)
            .build();
MIDITrack f = MIDITrackBuilder.create()
            .noteString(&quot;F4 C5 F A&quot;)
            .build();
MIDITrack g7 = MIDITrackBuilder.create()
            .noteString(&quot;G4 B D5 F G&quot;)
            .build();

track.append(c).append(f).append(g7).append(c);
</pre></div></div></div><div class="section"><h3>Merge<a name="Merge"></a></h3><p>There is also a merge method. This also makes a deep copy, but does not alter the start beats of the merged track.</p><div class="section"><h4>Results of a merge<a name="Results_of_a_merge"></a></h4>
<div class="source"><pre class="prettyprint linenums">here is the track after the merge
Track Name:null
Instrument:Instrument [patch=PIANO, name=Piano, minPitch=21, maxPitch=96]
MIDINote[startBeat: 001.00 pitch: c5  dur: 001.00 : q endBeat: 002.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 001.00 pitch: F5  dur: 001.00 : q endBeat: 002.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 002.00 pitch: d5  dur: 001.00 : q endBeat: 003.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 002.00 pitch: e5  dur: 001.00 : q endBeat: 003.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 003.00 pitch: e5  dur: 001.00 : q endBeat: 004.00 midinum: 64 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 003.00 pitch: d5  dur: 001.00 : q endBeat: 004.00 midinum: 62 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 004.00 pitch: F5  dur: 001.00 : q endBeat: 005.00 midinum: 65 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 004.00 pitch: c5  dur: 001.00 : q endBeat: 005.00 midinum: 60 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
MIDINote[startBeat: 005.00 pitch: G5  dur: 001.00 : q endBeat: 006.00 midinum: 67 rest: false] chan: 0 velocity: 64 bank: 0 program: 0 (Piano) pitchbend: 0 voice: 0 MIDITrack: unnamed track ]
events
</pre></div><p>If you dont like the results, you can unmerge</p></div><div class="section"><h4>Unmerged track<a name="Unmerged_track"></a></h4>
<div class="source"><pre class="prettyprint linenums">track.unmerge(track2);
</pre></div></div></div><div class="section"><h3>Textual display of the Track<a name="Textual_display_of_the_Track"></a></h3><p>The usual toString method is provided. You can also print a MIDI String that the MIDIStringParser class can parse. There are two versions, brief, and not so brief. The Not So Brief versions lists the parameters in this order:</p><p>pitch, start beat, duration, velocity, pan, channel, bank, program, pitchbend</p><p>The brief version is simply pitch, start beat, and duration.</p><p>Printing the track:</p>
<div class="source"><pre class="prettyprint linenums">// same code as the append example, then
logger.debug(&quot;here is the track after the append\n{}&quot;, track); // &lt;1&gt;
logger.debug(&quot;here is the track after the append\n{}&quot;,track.toBriefMIDIString());
logger.debug(&quot;here is the track after the append\n{}&quot;, track.toMIDIString());
</pre></div><p>1 toString() weve already seen</p><p>Output</p>
<div class="source"><pre class="prettyprint linenums">// toBriefMIDIString
// pitch, start beat, duration
S+ c5,1.0,1.0 d5,2.0,1.0 e5,3.0,1.0 F5,4.0,1.0 G5,5.0,1.0 F5,6.0,1.0 e5,7.0,1.0 d5,8.0,1.0 c5,9.0,1.0

// toMIDIString
// pitch, start beat, duration, velocity, pan, channel, bank, program, pitchbend
c5,1.000,1.000,64,64,0,0,0,0
d5,2.000,1.000,64,64,0,0,0,0
e5,3.000,1.000,64,64,0,0,0,0
F5,4.000,1.000,64,64,0,0,0,0
G5,5.000,1.000,64,64,0,0,0,0
F5,6.000,1.000,64,64,0,0,0,0
e5,7.000,1.000,64,64,0,0,0,0
d5,8.000,1.000,64,64,0,0,0,0
c5,9.000,1.000,64,64,0,0,0,0
</pre></div></div><div class="section"><h3>Chordify<a name="Chordify"></a></h3><p>The opposite of sequential() is chordify(). There is a version that takes a start beat.</p><div class="section"><h4>Chordify example<a name="Chordify_example"></a></h4>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack();
MIDITrack c = MIDITrackBuilder.create()
                .noteString(&quot;C4 C5 E G&quot;)
                .build();

MIDITrack g7 = MIDITrackBuilder.create()
                .noteString(&quot;G4 B D5 F G&quot;)
                .build();

track.append(c);
g7.sequential();
track.append(g7);
g7.chordify();
track.append(g7);
track.append(c);

g7.chordify(12d);
// ignores g7's start beat!
// track.append(g7);
track.merge(g7);
</pre></div></div></div></div><div class="section"><h2>Modifiers<a name="Modifiers"></a></h2><p>You can modify a MIDITrack with a Modifier. There are several implementations for most note parameters. You specify an operation and a value or list of values. Internally the modifiers use a CircularList.</p><p>Here is an example which uses the PitchModifier. Not suprisingly, it modifies the pitch of each note in the track when you call the MIDITracks map() method.</p><div class="section"><div class="section"><h4>Transpose example<a name="Transpose_example"></a></h4>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = MIDITrackBuilder
                .create()
                .name(&quot;transpose&quot;)
                .noteString(&quot;C6 E G&quot;)
                .build();
PitchModifier mod = new PitchModifier(Modifier.Operation.ADD, 12);
track.map(mod);
</pre></div><p>There are several operations that are defined in an enum in the Modifier interface.</p></div><div class="section"><h4>Operations in the Modifier interface<a name="Operations_in_the_Modifier_interface"></a></h4>
<div class="source"><pre class="prettyprint linenums">public enum Operation {
       SET,
       ADD,
       SUBTRACT,
       MULTIPLY,
       DIVIDE,
       MOD,
       QUANTIZE
</pre></div><p>There are modifiers for channel, start beat, duration, velocity, and instrument. Each one uses a CircularList.</p><p>Writing your own is trivial. There are abstract classes that you should subclass. See AbstractModifier and AbstractMIDINoteModifier.</p></div></div><div class="section"><h3>Anonymous modifier example<a name="Anonymous_modifier_example"></a></h3>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = MIDITrackBuilder.create()
                    .name(&quot;pan modifier&quot;)
                    .noteString(&quot;C6 E G&quot;)
                    .build();

MIDINoteModifier mod = new AbstractMIDINoteModifier(32) {
    @Override
     public void modify(MIDINote n) {
          int pan = values.next().intValue();
          logger.debug(&quot;pan value is {}&quot;, pan);
          n.setPan(pan);
      }
};
track.map(mod);
</pre></div></div></div><div class="section"><h2>Writing a MIDITrack to a file<a name="Writing_a_MIDITrack_to_a_file"></a></h2><p>Since JavaSound Track objects belong to a Sequence object, you will need to create a Score, add the MIDITrack to the Score, then write to a file.</p><div class="section"><h3>Writing a Track to a MIDI file<a name="Writing_a_Track_to_a_MIDI_file"></a></h3>
<div class="source"><pre class="prettyprint linenums">String filename = &quot;src/test/resources/midifiles/sdv.mid&quot;; // &lt;1&gt;
Score score = new Score(&quot;SDV&quot;);
score.add(track);
ScoreFactory.writeToMIDIFile(filename, score); // &lt;2&gt;
</pre></div><p>1 Using Mavens directory structure here. 2 The score factory does the actual writing.</p></div><div class="section"><h3>Under the hood<a name="Under_the_hood"></a></h3><p>MIDITrackFactory will turn a MIDITrack into a JavaSound Track.</p><div class="section"><h4>MIDITrack to Track<a name="MIDITrack_to_Track"></a></h4>
<div class="source"><pre class="prettyprint linenums">public static Track trackFromMIDITrack(MIDITrack mt, Sequence sequence)
</pre></div></div></div></div><div class="section"><h2>Whats next?<a name="Whatnulls_next"></a></h2><p>Take a look at the JUnit tests. There are many examples of usage. Also, there is an examples subproject.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    1996&#x2013;2014
                        <a href="http://rockhoppertech.com/">Rockhopper Technologies</a>.
            All rights reserved.      
            
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
