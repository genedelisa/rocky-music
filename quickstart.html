<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Feb 8, 2014 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140208" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Rockhopper Music - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2282147-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/genedelisa/rockymusic">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.rockhoppertech.com/blog/" id="bannerLeft">
                                                                                                <img src="images/rocky-scream-25.jpg"  alt="Rockhopper"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                        <img src="http://maven.apache.org/images/maven-small.gif" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2014-02-08
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.0.1-SNAPSHOT
                      </li>
                      
                
            
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://rockhoppertech.com/blog" class="externalLink" title="Rockhopper blog">
        Rockhopper blog</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://rockhoppertech.com/" class="externalLink" title="Rockhopper Technologies">
        Rockhopper Technologies</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Project dox</li>
                              
      <li>
  
                          <a href="overview.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Quick Start</a>
          </li>
                
      <li>
  
                          <a href="midiTracks.html" title="MIDI Tracks">
          <i class="none"></i>
        MIDI Tracks</a>
            </li>
                
      <li>
  
                          <a href="chords.html" title="Chords">
          <i class="none"></i>
        Chords</a>
            </li>
                
      <li>
  
                          <a href="scales.html" title="Scales">
          <i class="none"></i>
        Scales</a>
            </li>
                
      <li>
  
                          <a href="functional.html" title="Functional">
          <i class="none"></i>
        Functional</a>
            </li>
                
      <li>
  
                          <a href="timeseries.html" title="Time Series">
          <i class="none"></i>
        Time Series</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                            
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="file:///Users/gene/sitedocs/rockymusic" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=file:///Users/gene/sitedocs/rockymusic&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/genedelisa" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow genedelisa</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Rockhopper Music Quick start</h1><div class="section"><h2>Main classes<a name="Main_classes"></a></h2><p>The <b>Score</b> class contains *<i>MIDITrack</i><i>s. </i><i>MIDITrack</i><i>s can contain either </i><i>MIDINote</i><i>s or </i><i>MIDIEvent</i>*s. One of the attributes of the <b>MIDINote</b> class is a <b>Pitch</b> object. There are constants defined for each MIDI pitch number. </p>
<blockquote><p><tt>I chose to use C5 as middle C - even though other libraries such as Common Music use C4 to represent middle C. If I did that, then the first octaves would have negative numbers. Ugly.</tt></p>
</blockquote><p>The <b>MIDITrack</b>s <b>add</b> method is overloaded. You can simply pass in a <b>Pitch</b> constant and it will create a <b>MIDINote</b> with default attributes. There is a builder for <b>MIDINote</b> if you want to control the universe.</p></div><div class="section"><h2>Simple Example<a name="Simple_Example"></a></h2><p>Here is a <b>Score</b> with a track that contains just middle C:</p>
<div class="source"><pre class="prettyprint linenums">Score score = new Score(&quot;name of the score&quot;);
// c.f. MIDITrackBuilder
MIDITrack track = new MIDITrack();
score.add(track);
track.add(Pitch.C5);
// then use it
ScoreFactory.writeToMIDIFile(&quot;test.mid&quot;&quot;, score);
// or
score.play();
// or even
track.play();
</pre></div><p>This will create a MIDI file (format 1) with a metamessage track (tempo, key signatures etc.) and the specified track[s].</p><p>Ive created Builders for many of the classes. Youd probably be better off using the <b>MIDITrackBuilder</b> class to create *<i>MIDITrack</i>*s.</p></div><div class="section"><h2>Pitches<a name="Pitches"></a></h2><p>My original classes needed to be used in CSound (octave.pc or hz), Synclavier, or MIDI. When you look at the <b>Pitch</b> class, that is why those methods are in there. I may whittle them down.</p><p>I chose C5 to be middle C simply because I didnt want negative octave numbers. MusicXML, Common Lisp Music, and others are off by 1. Take a look at <a class="externalLink" href="http://en.wikipedia.org/wiki/Scientific_pitch_notation">Scientific pitch notation</a> if you are interested.</p><p>There is a <i>PitchFactory</i> class. As you may guess, its the GoF factory design pattern - and for <i>Pitch</i> instances it uses the Flyweight design pattern. For that reason, you are not going to write</p>
<div class="source"><pre class="prettyprint linenums">new Pitch(60);
</pre></div><p>There are constants defined in <b>Pitch</b>.</p>
<div class="source"><pre class="prettyprint linenums">public static final int C5 = 60;
public static final int MIDDLE_C = 60;
etc.
</pre></div><p>Those are simply MIDI numbers. To get a Pitch instance, youd use the factory - which is a Singleton.</p>
<div class="source"><pre class="prettyprint linenums">Pitch myPitch = PitchFactory.instance().getPitch(Pitch.C5)
</pre></div><p>If you call this method twice, you will get the same instance. Thats how the Flyweight works. What varies is the way the Pitch is uses, which is in a <b>Note</b> object, or its subclass <b>MIDINote</b>.</p><p>In many places in the API, you simply need the MIDI pitch number, so those constants will be enough. </p><p>There is an easier way to use the Pitch class. Dont use it at all. Let the API classes use it. You can simply use English note names. I suppose that I could use other note names as <b>Lilypond</b> does, but I havent needed it.</p></div><div class="section"><h2>Text based note specification<a name="Text_based_note_specification"></a></h2><p>You can also use a text based format for creating a <b>MIDITrack</b>. There is a constructor that uses a <b>MIDIStringParser</b> to initialize the track. Later, well see the builder class uses this parser also.</p>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack(&quot;C5 D E F G A B C6&quot;);
</pre></div><p>This creates a track with the specified pitches. The octave is a running value. All of the start times are at beat 1. In some cases this is what you want. You can modify the track by calling</p>
<div class="source"><pre class="prettyprint linenums">track.sequential();
</pre></div><p>or you can specify sequential start times in the string by prepending S+ to the string.</p>
<div class="source"><pre class="prettyprint linenums">MIDITrack track = new MIDITrack(&quot;S+ C5 D E F G A B C6&quot;);
</pre></div><p>You can specify a start beat with S=N, where N is the beat. This will be a running start time which will apply to all pitches until the next S.</p>
<div class="source"><pre class="prettyprint linenums">S+ C D E S=5 E S=8 G
</pre></div><p>No spaces around the = sign!</p><p>These examples are on a single line, but the parser will grok newlines. This is handy if you want to save the strings to a file and read them back in. The newlines help with readability.</p><div class="section"><h3>Caveat<a name="Caveat"></a></h3><p>This text format is simply a way to create tracks quickly. It is not intended to be a full language or even a DSL.</p></div><div class="section"><h3>Comments<a name="Comments"></a></h3><p>Multi line comments are not supported yet. But you can use single line comments using either // or /* */ on a single line</p>
<div class="source"><pre class="prettyprint linenums">C D E // a couple notes
C /* blah blah */ D E
</pre></div></div><div class="section"><h3>Durations<a name="Durations"></a></h3><p>You can specify durations as a real number in beats</p>
<div class="source"><pre class="prettyprint linenums">C,1 D,1.5 E,2.0
</pre></div><p>Note that you need to use a comma between the pitch and the duration.</p><p>Or you can use these strings:</p>
<table border="0" class="table table-striped">
    <tr class="a">
        <td>d</td>
        <td>double whole note</td>
    </tr>
     <tr class="b">
        <td>w</td>
        <td>whole note</td>
    </tr>
    <tr class="a">
        <td>h</td>
        <td>half note</td>
    </tr>

     <tr class="b">
        <td>q</td>
        <td>quarter note</td>
    </tr>

     <tr class="a">
        <td>e</td>
        <td>eighth note</td>
    </tr>

     <tr class="b">
        <td>s</td>
        <td>sixteenth note</td>
    </tr>

     <tr class="a">
        <td>t</td>
        <td>thirtysecond note</td>
    </tr>

     <tr class="b">
        <td>x</td>
        <td>sixtyfourth note</td>
    </tr>

     <tr class="a">
        <td>o</td>
        <td>one twenty eighth note</td>
    </tr>

</table><p>Each can be modified by appending a t to indicate a triplet.</p>
<div class="source"><pre class="prettyprint linenums">C,qt D,qt E,qt
</pre></div><p>You can use dots too.</p>
<div class="source"><pre class="prettyprint linenums">C,q. D,e
</pre></div></div><div class="section"><h3>Repeating<a name="Repeating"></a></h3><p>Xn (element) can specify a number of repeated elements</p>
<div class="source"><pre class="prettyprint linenums">X3 (C)
yields
C C C

X3 (C D) E F
yields
C D C D C D E F

X2 (C D) E F X2 (G A)
yields
C D C D E F G A G A
</pre></div></div><div class="section"><h3>Instruments<a name="Instruments"></a></h3><p>You can specify an instrument with <b>In</b> where n=program number or <b>Iname</b></p>
<div class="source"><pre class="prettyprint linenums">I&quot;Piano&quot;
I25
</pre></div><p>Not sure that this is very useful. I usually just set the instrument on the <b>MIDITrack</b>. </p></div></div><div class="section"><h2>Builders<a name="Builders"></a></h2><p>Ive created a few Builders (ask the Google about the builder design pattern). To create a <b>MIDITrack</b>, you can use the <b>MIDITrackBuilder</b>. Here is an example that builds a track with the meta text name set, the patch is set to a General MIDI patch, pitches from a note string, and durations set to 4. The start beat is 4.5, and the succeeding notes start after the previous note ends due to the call to <b>sequential</b>. Without this, youd create a chord with the notes all having the same start beat.</p>
<div class="source"><pre class="prettyprint linenums"> Score score = new Score(&quot;Chord&quot;);
 MIDITrack violin = MIDITrackBuilder.create()
            .name(&quot;Violin I&quot;)
            .instrument(MIDIGMPatch.VIOLIN)
            .noteString(&quot;C6 E G&quot;)
            .startBeats(4.5)
            .durations(4d)
            .velocities(32, 64)
            .sequential()
            .build();
 score.add(violin);
</pre></div><p>The durations can be a comma delimited list that will be cycled. There are also constants for common durations. (A static import can make these easier to use).</p>
<div class="source"><pre class="prettyprint linenums">...as before
.durations(Duration.SIXTEENTH_NOTE, Duration.EIGHTH_NOTE)
...
</pre></div><p>The startBeats, durations, and velocities methods accept a collection of values. If the number of these values do not match the number of specified pitches, they will wrap - e.g. for 12 pitches and 2 durations, the durations will cycle through the list.</p><div class="section"><h3>Scales<a name="Scales"></a></h3><p>There are also Scale classes. One easy way to use them is through the <b>MIDITrackBuilder</b>. Here is a 3 octave D Major scale. You dont need to call <b>.sequential</b> since that is assumed.</p>
<div class="source"><pre class="prettyprint linenums"> MIDITrack track = MIDITrackBuilder.create()
            .scaleName(&quot;Major&quot;)
            .startPitch(&quot;D3&quot;)
            .nScaleOctaves(3)
            .build();
</pre></div><p>You can see the predefined Scales like this:</p><p> for (String scalename : ScaleFactory.getScaleNames()) {  logger.debug(scalename);  }</p><p>Or just take a peek at src/main/resources/scaledefs.xml. You can add more *<i>Scale</i>*s here. Be nice and send me any Scales Ive missed.</p></div><div class="section"><h3>Chords<a name="Chords"></a></h3><p>I have Chord classes also in my legacy library. Ill refactor them RSN.</p></div><div class="section"><h3>GUI<a name="GUI"></a></h3><p>There ia JavaFX 2 project that will let you play around with the note text format. I have a metric ****ton of Swing that uses these classes. Im porting them to JavaFX now.</p></div><div class="section"><h3>There is a lot more to document<a name="There_is_a_lot_more_to_document"></a></h3><p>Theres more to the text format. And there is a metric ****load of documentation to write about all the other classes. Be patient; Im getting there.</p><p>In the meantime, look at the unit tests for examples, and check out the Factory classes for hints on how to use the classes.</p></div></div><div class="section"><h2>Resources<a name="Resources"></a></h2>
<ul>
  <li><a class="externalLink" href="http://rockhoppertech.com/blog/rockymusic">Blog post for this project</a></li>
</ul></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    1996&#x2013;2014
                        <a href="http://rockhoppertech.com/">Rockhopper Technologies</a>.
            All rights reserved.      
            
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
